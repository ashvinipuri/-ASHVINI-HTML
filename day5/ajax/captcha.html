<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
  crossorigin="anonymous"
/>

<div class="container">
  <div class="row text-center">
    <div class="col-4">
      <p>Policy Number</p>
      <input type="text" name="policyNumber" id="p1" />
    </div>

    <div class="col-4">
      <p id="captchaQuestion" style="font-weight: bold"></p>
    </div>

    <div class="col-4">
      <p>Captcha Answer</p>
      <input type="text" id="p3" />
    </div>
  </div>
</div>
<br />

<!-- Buttons Section -->
<div class="container">
  <div class="row text-center">
    <div class="col-6">
      <button id="renewPolicyBtn" onclick="validateCaptcha()">
        Renew Policy
      </button>
    </div>
    <div class="col-6">
      <button id="clearBtn" onclick="clearFields()">Clear</button>
    </div>
  </div>
</div>

<script>
  let num1, num2, correctAnswer;

  function generateCaptcha() {
    num1 = Math.floor(Math.random() * 10) + 1;
    num2 = Math.floor(Math.random() * 10) + 1;
    correctAnswer = num1 + num2;

    document.getElementById(
      "captchaQuestion"
    ).innerText = `${num1} + ${num2} = ?`;
  }

  function validateCaptcha() {
    const userAnswer = parseInt(document.getElementById("p3").value);
    if (userAnswer === correctAnswer) {
      alert("Done");
      return true;
    } else {
      alert("CAPTCHA Failed. Try again.");
      generateCaptcha();
      return false;
    }
  }

  function clearFields() {
    document.getElementById("p1").value = "";
    document.getElementById("p3").value = "";
    generateCaptcha();
  }

  window.onload = generateCaptcha;
</script>
